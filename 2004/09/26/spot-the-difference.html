<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/theme.js"></script>
<link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/css/theme.css" rel="stylesheet" type="text/css">
<link href="/css/syntax.css" rel="stylesheet" type="text/css">



    <title>Third Bit: Spot the Difference</title>
  </head>
  <body>
    <div class="container-fluid">
  <div class="row-fluid">
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">Third Bit</a>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li class="active visible-xs-block"><a href="/links/">Links</a></li>
          <li class="active"><a href="/about/">About</a></li>
          <li class="active"><a href="/talks/">Talks</a></li>
          <li class="active"><a href="/ideas/">Ideas</a></li>
          <li class="active"><a href="/reading/">Reading</a></li>
          <li class="active"><a href="/archive/">Archive</a></li>
          <li class="active"><a href="/teaching/"><em>How to Teach</em></a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li class="active"><a href="http://appear.in/gvwilson"><img src="/files/appear.in.svg" class="navbar-icon" /></a></li>
          <li class="active"><a href="https://github.com/gvwilson"><img src="/files/github.svg" class="navbar-icon" /></a></li>
          <li class="active"><a href="http://twitter.com/gvwilson"><img src="/files/twitter.svg" class="navbar-icon" /></a></li>
          <li class="active"><a href="/feed.xml"><img src="/files/rss.svg" class="navbar-icon" /></a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container container-left">
      <div class="row">
        <div class="col-md-3 hidden-xs">
          <div class="sidebar well">
  <h2>Links</h2>
<p><em><a href="http://software-carpentry.org">Software Carpentry</a></em></p>
<p><em><a href="http://aosabook.org">Architecture of Open Source Applications</a></em></p>
<p><em><a href="http://neverworkintheory.org">Never Work in Theory</a></em></p>
<p><em><a href="http://sensibleadventures.com">Sensible Adventures</a></em></p>
<p><a href="/cv/">CV</a></p>
<p><a href="/bib/">Bibliography</a></p>

  <h2>Favorites</h2>
  
  
  <p><a href="/2018/03/20/goodbye-jeff.html">Goodbye, Jeff</a></p>
  
  <p><a href="/2018/03/16/seven-ways.html">Seven Ways to Think Like a Programmer</a></p>
  
  <p><a href="/2018/03/13/base-case-for-empirical-software-engineering.html">A Base Case for Empirical Software Engineering Research</a></p>
  
  <p><a href="/2018/01/07/book-club.html">Book Club</a></p>
  
  <p><a href="/2017/12/21/talking-people-into-things.html">Ten Simple Rules for Talking People Into Things</a></p>
  
  <p><a href="/2017/11/05/for-everyone.html">Carpentry For Everyone</a></p>
  
  <p><a href="/2017/10/16/exercise-types.html">What Kinds of Exercises Do You Use to Teach Programming?</a></p>
  
  <p><a href="/2017/09/30/git-graphs-and-engineering.html">Git, Graphs, and Software Engineering</a></p>
  
  <p><a href="/2017/06/19/ten-rules-research-partner.html">Ten Simple Rules for Being a Good Research Partner</a></p>
  
  <p><a href="/2017/05/22/numerical-javascript.html">Numerical JavaScript</a></p>
  
  <p><a href="/2017/01/06/them-thats-got.html">Them That's Got</a></p>
  
  <p><a href="/2016/10/30/rules-for-teaching.html">Rules for Teaching</a></p>
  
  <p><a href="/2016/04/29/why-teachers-dont-collaborate.html">Why Teachers Don't Collaborate on Lesson Development</a></p>
  
  <p><a href="/2016/04/01/zen-and-the-art-of-assignment-operators.html">Zen and the Art of Assignment Operators</a></p>
  
  <p><a href="/2016/03/13/in-my-better-world.html">In My Better World</a></p>
  
  <p><a href="/2015/12/19/why-i-teach.html">Why I Teach (Revisited)</a></p>
  
  <p><a href="/2015/12/06/just-keep-swimming.html">Just Keep Swimming</a></p>
  
  <p><a href="/2015/11/29/exaptation.html">Exaptation and the Future of Software Engineering</a></p>
  
  <p><a href="/2015/11/09/daddy-why-dont-you-ever-laugh.html">Daddy, Why Don't You Ever Laugh?</a></p>
  
  <p><a href="/2015/09/22/dad.html">Goodbye, Dad</a></p>
  
  <p><a href="/2014/10/08/announcing-the-creation-of-the-software-carpentry-foundational.html">Announcing the Creation of the Software Carpentry Foundation</a></p>
  
  <p><a href="/2014/03/14/learning-at-scale.html">Is Learning at Scale Just Another Name for Ubiquitous Surveillance in the Classroom?</a></p>
  
  <p><a href="/2013/10/17/you-keep-using-that-word.html">You Keep Using That Word</a></p>
  
  <p><a href="/2013/02/11/correctness-isnt-compelling.html">Correctness Isn't Compelling</a></p>
  
  <p><a href="/2012/10/23/twenty-percent.html">Twenty Percent</a></p>
  
  <p><a href="/2012/06/29/those-who-ignore-history.html">That Seems Simple to Me</a></p>
  
  <p><a href="/2012/01/21/the-life-i-did-live-the-breath-i-breathed.html">We Have Nothing To Give Them</a></p>
  
</div>

        </div>
        <div class="col-md-9">
          <div class="article">
            <div class="well">
              <h1><a href="/2004/09/26/spot-the-difference.html">Sep 26, 2004 - Spot the Difference</a></h1>
              <div class="post-content">
                <p>At 13:26 this afternoon, more than a day and a half after the
deadline I set my students, I finally got the <a href="http://pyre.third-bit.com/neon/school/warmup.html">Tapestry/Hibernate
warmup exercise</a> working to my satisfaction.  The final bug took
several hours to track down; when I found out what it was, I almost
decided to throw <a href="http://jakarta.apache.org/tapestry">Tapestry</a> away and use
something a little more predictable.</p>

<p>The problem turned out to be the difference between this:</p>

<blockquote><pre>
&lt;!-- Buggy version --&gt;
&lt;tr&gt;
  &lt;td colspan="2"&gt;
    &lt;input type="submit" jwcid="@Submit"
           listener="ognl:listeners.returnSubmitAction" value="Return"/&gt;
  &lt;/td&gt;
  &lt;td colspan="2"&gt;
    &lt;input type="submit" jwcid="@Submit"
           listener="ognl:listeners.borrowSubmitAction" value="Borrow"/&gt;
  &lt;/td&gt;
  &lt;td&gt;&lt;span jwcid="@TextField"  value="ognl:formBorrower"/&gt;&lt;/td&gt;
  &lt;td&gt;&lt;span jwcid="@TextField"  value="ognl:formEmail"/&gt;&lt;/td&gt;
  &lt;td&gt;&lt;span jwcid="@DatePicker" value="ognl:formBorrowDate"/&gt;&lt;/td&gt;
&lt;/tr&gt;
</pre></blockquote>

<p>and this:</p>

<blockquote><pre>
&lt;!-- Working version --&gt;
&lt;tr&gt;
  &lt;td colspan="2"&gt;
    &lt;input type="submit" jwcid="@Submit"
           listener="ognl:listeners.returnSubmitAction" value="Return"/&gt;
  &lt;/td&gt;
  &lt;td&gt;&lt;span jwcid="@TextField"  value="ognl:formBorrower"/&gt;&lt;/td&gt;
  &lt;td&gt;&lt;span jwcid="@TextField"  value="ognl:formEmail"/&gt;&lt;/td&gt;
  &lt;td&gt;&lt;span jwcid="@DatePicker" value="ognl:formBorrowDate"/&gt;&lt;/td&gt;
  &lt;td colspan="2"&gt;
    &lt;input type="submit" jwcid="@Submit"
           listener="ognl:listeners.borrowSubmitAction" value="Borrow"/&gt;
  &lt;/td&gt;
&lt;/tr&gt;
</pre></blockquote>

<p>Can you spot the bug?  In the first version, the three text fields
used to submit the borrower's name, email address, and borrow date
come <em>after</em> the button that the user clicks to borrow books.
In the working version, the text fields come <em>before</em> that button.
That is the only difference---I made no changes to the application's
<code>.page</code> and <code>.application</code> files, or to the Java
class.</p>

<p>After half an hour of Tapestry in Action and on
Google, I still have no idea why the order matters.  If anyone knows
why it does, I'd welcome an explanation...</p>

<p>The real problem here, though, isn't this bug in <a href="http://jakarta.apache.org/tapestry">Tapestry</a> (and yes, it's
a bug---even if there's some obscure engineers-rule "but we had to
because..." explanation for it, it's a bug).  The real problem is the
"spooky action at a distance" [<a href="#1">1</a>] nature of framework
programming.  Everything that happens between me clicking the "submit"
button on an HTML form, and the corresponding action method being
invoked in my Java class, is, for all practical purposes, hidden from
me.</p>

<p>Oh, sure, I could run <a href="http://jakarta.apache.org/tomcat">Tomcat</a> (or <a href="http://jetty.mortbay.com/jetty/index.html">Jetty</a>, or some
other container) under a debugger, and watch <a href="http://jakarta.apache.org/tapestry">Tapestry</a> snatch the form
data from the HTTP stream, read my <code>.application</code> and
<code>.page</code> files, load my class, subclass it on the fly to
create implementations of my abstract methods, add some data members
to store form values, and finally invoke the method I actually wrote,
but saints and small mercies, how long would that take to set up?  Or
to run?  And how much of it would I actually understand?</p>

<p>On the other hand, how much of that do I want to write myself, over
and over again?  The whole point of <a href="http://jakarta.apache.org/tapestry">Tapestry</a> is that it
takes care of these routine tasks for me, so that I only have to worry
about application-specific code.  I've written enough CGI scripts and
naked servlets to recognize just how much grief a good framework can
save.</p>

<p>So, in the end, this turned out to be another example of what Joel
Spolsky dubbed a <a href="http://www.joelonsoftware.com/articles/LeakyAbstractions.html">leaky
abstraction</a>.  <a href="http://jakarta.apache.org/tapestry">Tapestry</a> really does
try to present a high-level model for web programming, but every once
in a while, you can still see what lies beneath.  As he said:</p>

<blockquote>
<p>Ten years ago, we might have imagined that new programming
paradigms would have made programming easier by now.  Indeed, the
abstractions we've created over the years do allow us to deal with new
orders of complexity in software development that we didn't have to
deal with ten or fifteen years ago, like GUI programming and network
programming. And while these great tools, like modern OO forms-based
languages, let us get a lot of work done incredibly quickly, suddenly
one day we need to figure out a problem where the abstraction leaked,
and it takes 2 weeks. And when you need to hire a programmer to do
mostly VB programming, it's not good enough to hire a VB programmer,
because they will get completely stuck in tar every time the VB
abstraction leaks.</p>

<p>The Law of Leaky Abstractions is dragging us down.</p>
</blockquote>

<p>[<a name="1">1</a>] In 1935, several years after quantum mechanics
had been developed, Einstein, Podolsky, and Rosen showed that under
certain circumstances quantum mechanics predicted a breakdown of
locality. Specifically, they showed that if quantum mechanics was
true, then someone could put a particle in a measuring device in one
place and, simply by doing that, instantly influence another particle
light years away.  Einstein called this "spooky action at a distance",
and felt it was proof that quantum mechanics couldn't be the whole
story.  Unfortunately for him, Bell's work in the 1960s, and
experiments in the years that followed, proved that this actually does
happen.  To quote another physicist (Haldane this time), "...the
universe is not only queerer than we suppose, but queerer than we
<em>can</em> suppose."  (Unfortunately, the same seems to be true of
many software systems.)</p>

                


              </div>
            </div>
            <div class="pagination">
              
              <a class="btn btn-default" href="/2004/09/29/version-numbers.html" class="next">Newer</a>
              
              
              <a class="btn btn-default" href="/2004/09/20/essential-equipment.html" class="previous">Older</a>
              
            </div>
            
            
            <div class="well">
              
              <div id="disqus_thread">
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
              </div>
              
            </div>
            
            
          </div>
        </div>
      </div>
    </div>
    
  <script type="text/javascript">
    var disqus_shortname = 'thirdbit';

    var disqus_config = function () {
        this.page.identifier = '2004-09-26-spot-the-difference-html';
    };

   (function() {
     var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
     dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
     (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>


    <div class="container-fluid">
  <div class="row-fluid">
    <div class="span12 footer navbar-inverse navbar-fixed-bottom">
      <br/>
      <p class="copyright">
        &copy; 2018 Greg Wilson.
        All content made available under the <a href="/license/">Creative Commons - Attribution License</a>.
      </p>
    </div>
  </div>
</div>


  <script type="text/javascript">
    var disqus_shortname = 'thirdbit';

    var disqus_config = function () {
        this.page.identifier = '2004-09-26-spot-the-difference-html';
    };

   (function () {
     var s = document.createElement('script'); s.async = true;
     s.type = 'text/javascript';
     s.src = '//' + disqus_shortname + '.disqus.com/count.js';
     (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
   }());
 </script>



  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1301159-1', 'auto');
    ga('send', 'pageview');
  </script>



</body>
</html>

  </body>
</html>
